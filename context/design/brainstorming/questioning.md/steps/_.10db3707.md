---
timestamp: 'Tue Oct 14 2025 22:50:44 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251014_225044.d7f79cfa.md]]'
content_id: 10db37073171b1746470472741e99bdc10ef24d4b2a1e8b5b12f2a275c0aba1c
---

# The daily CallSession entity, decoupled from the window definitions

a set of CallSessions with
a user User
a onDate Date
a numRetries Number
a lastAttempt DateTime
a source of MANUAL or SCHEDULED
a status of PENDING or MISSED or COMPLETED
an optional journalEntry JournalEntry

```
# The central queue for initiated calls
an element CallQueue with
  a pendingCalls seq of CallSessions
```

actions

createCallSession(user:User, onDate:Date, source: MANUAL or SCHEDULED): CallSession
requires: There is no existing CallSession cs such that cs.user = user and cs.onDate = onDate
effect:

* A new CallSession, cs\_new, is added to the CallSessions set.
* cs\_new.user is set to the input user.
* cs\_new.onDate is set to the input onDate.
* cs\_new.status is set to PENDING.
* cs\_new.numRetries is set to 0.
* cs\_new.source is set to the input source.
* cs\_new.lastAttempt and cs\_new.journalEntry are unset.
* The action returns cs\_new.

deleteCallSession(user:User, onDate: Date)
requires: There exists a CallSession cs such that cs.user = user and cs.onDate = onDate.
effect:

* The CallSession cs is removed from the CallSessions set.
* If cs is present in CallQueue.pendingCalls, it is removed from that sequence.

enqueueCall(user:User, onDate: Date)
requires:

* There exists a CallSession cs such that cs.user = user and cs.onDate = onDate.
* cs.status must be PENDING.
* cs must not already be in the CallQueue.pendingCalls sequence.
  effect:
* cs.numRetries is incremented by 1.
* cs.lastAttempt is updated to the current system DateTime.
* cs is appended to the end of the CallQueue.pendingCalls sequence.

\<concept\_spec/>
